import{c as T,h as ie,a as Z,Q as le}from"./dom.c7cf7d2d.js";import{i as ee,k as R,l as j,p as te,c as d,h as m,m as re,g as Q,r as y,n as I,o as E,q as F,s as ne,t as A,u as D,w,v as V,a as ae,d as se,x as ue,y as U,z as G,A as B,j as _,B as S,C as L,D as ce,E as K,G as k}from"./index.d2e22b2d.js";import{g as de,a as fe,b as ve,c as N,u as he,Q as me}from"./use-quasar.dff5a9e1.js";import{o as Y}from"./open-url.f2446651.js";var ge=T({name:"QPageContainer",setup(e,{slots:b}){const{proxy:{$q:i}}=Q(),o=ee(j,R);if(o===R)return console.error("QPageContainer needs to be child of QLayout"),R;te(re,!0);const t=d(()=>{const r={};return o.header.space===!0&&(r.paddingTop=`${o.header.size}px`),o.right.space===!0&&(r[`padding${i.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(r.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(r[`padding${i.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),r});return()=>m("div",{class:"q-page-container",style:t.value},ie(b.default))}});const pe=m("div",{class:"q-space"});var be=T({name:"QSpace",setup(){return()=>pe}});function ye(){const e=y(!I.value);return e.value===!1&&E(()=>{e.value=!0}),e}const oe=typeof ResizeObserver!="undefined",J=oe===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var M=T({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:b}){let i=null,o,t={width:-1,height:-1};function r(s){s===!0||e.debounce===0||e.debounce==="0"?u():i===null&&(i=setTimeout(u,e.debounce))}function u(){if(i!==null&&(clearTimeout(i),i=null),o){const{offsetWidth:s,offsetHeight:a}=o;(s!==t.width||a!==t.height)&&(t={width:s,height:a},b("resize",t))}}const{proxy:f}=Q();if(oe===!0){let s;const a=v=>{o=f.$el.parentNode,o?(s=new ResizeObserver(r),s.observe(o),u()):v!==!0&&A(()=>{a(!0)})};return E(()=>{a()}),F(()=>{i!==null&&clearTimeout(i),s!==void 0&&(s.disconnect!==void 0?s.disconnect():o&&s.unobserve(o))}),ne}else{let v=function(){i!==null&&(clearTimeout(i),i=null),a!==void 0&&(a.removeEventListener!==void 0&&a.removeEventListener("resize",r,D.passive),a=void 0)},g=function(){v(),o&&o.contentDocument&&(a=o.contentDocument.defaultView,a.addEventListener("resize",r,D.passive),u())};const s=ye();let a;return E(()=>{A(()=>{o=f.$el,o&&g()})}),F(v),f.trigger=r,()=>{if(s.value===!0)return m("object",{style:J.style,tabindex:-1,type:"text/html",data:J.url,"aria-hidden":"true",onLoad:g})}}}}),we=T({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:b,emit:i}){const{proxy:{$q:o}}=Q(),t=ee(j,R);if(t===R)return console.error("QFooter needs to be child of QLayout"),R;const r=y(parseInt(e.heightHint,10)),u=y(!0),f=y(I.value===!0||t.isContainer.value===!0?0:window.innerHeight),s=d(()=>e.reveal===!0||t.view.value.indexOf("F")>-1||o.platform.is.ios&&t.isContainer.value===!0),a=d(()=>t.isContainer.value===!0?t.containerHeight.value:f.value),v=d(()=>{if(e.modelValue!==!0)return 0;if(s.value===!0)return u.value===!0?r.value:0;const n=t.scroll.value.position+a.value+r.value-t.height.value;return n>0?n:0}),g=d(()=>e.modelValue!==!0||s.value===!0&&u.value!==!0),x=d(()=>e.modelValue===!0&&g.value===!0&&e.reveal===!0),h=d(()=>"q-footer q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(g.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(s.value!==!0?" hidden":""):"")),$=d(()=>{const n=t.rows.value.bottom,c={};return n[0]==="l"&&t.left.space===!0&&(c[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),n[2]==="r"&&t.right.space===!0&&(c[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),c});function p(n,c){t.update("footer",n,c)}function z(n,c){n.value!==c&&(n.value=c)}function P({height:n}){z(r,n),p("size",n)}function q(){if(e.reveal!==!0)return;const{direction:n,position:c,inflectionPoint:C}=t.scroll.value;z(u,n==="up"||c-C<100||t.height.value-a.value-c-r.value<300)}function H(n){x.value===!0&&z(u,!0),i("focusin",n)}w(()=>e.modelValue,n=>{p("space",n),z(u,!0),t.animate()}),w(v,n=>{p("offset",n)}),w(()=>e.reveal,n=>{n===!1&&z(u,e.modelValue)}),w(u,n=>{t.animate(),i("reveal",n)}),w([r,t.scroll,t.height],q),w(()=>o.screen.height,n=>{t.isContainer.value!==!0&&z(f,n)});const l={};return t.instances.footer=l,e.modelValue===!0&&p("size",r.value),p("space",e.modelValue),p("offset",v.value),F(()=>{t.instances.footer===l&&(t.instances.footer=void 0,p("size",0),p("offset",0),p("space",!1))}),()=>{const n=Z(b.default,[m(M,{debounce:0,onResize:P})]);return e.elevated===!0&&n.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),m("footer",{class:h.value,style:$.value,onFocusin:H},n)}}});const{passive:X}=D,xe=["both","horizontal","vertical"];var ze=T({name:"QScrollObserver",props:{axis:{type:String,validator:e=>xe.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:b}){const i={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,t,r;w(()=>e.scrollTarget,()=>{s(),f()});function u(){o!==null&&o();const g=Math.max(0,fe(t)),x=ve(t),h={top:g-i.position.top,left:x-i.position.left};if(e.axis==="vertical"&&h.top===0||e.axis==="horizontal"&&h.left===0)return;const $=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";i.position={top:g,left:x},i.directionChanged=i.direction!==$,i.delta=h,i.directionChanged===!0&&(i.direction=$,i.inflectionPoint=i.position),b("scroll",{...i})}function f(){t=de(r,e.scrollTarget),t.addEventListener("scroll",a,X),a(!0)}function s(){t!==void 0&&(t.removeEventListener("scroll",a,X),t=void 0)}function a(g){if(g===!0||e.debounce===0||e.debounce==="0")u();else if(o===null){const[x,h]=e.debounce?[setTimeout(u,e.debounce),clearTimeout]:[requestAnimationFrame(u),cancelAnimationFrame];o=()=>{h(x),o=null}}}const{proxy:v}=Q();return w(()=>v.$q.lang.rtl,u),E(()=>{r=v.$el.parentNode,f()}),F(()=>{o!==null&&o(),s()}),Object.assign(v,{trigger:a,getPosition:()=>i}),ne}}),Se=T({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:b,emit:i}){const{proxy:{$q:o}}=Q(),t=y(null),r=y(o.screen.height),u=y(e.container===!0?0:o.screen.width),f=y({position:0,direction:"down",inflectionPoint:0}),s=y(0),a=y(I.value===!0?0:N()),v=d(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),g=d(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),x=d(()=>a.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),h=d(()=>a.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function $(l){if(e.container===!0||document.qScrollPrevented!==!0){const n={position:l.position.top,direction:l.direction,directionChanged:l.directionChanged,inflectionPoint:l.inflectionPoint.top,delta:l.delta.top};f.value=n,e.onScroll!==void 0&&i("scroll",n)}}function p(l){const{height:n,width:c}=l;let C=!1;r.value!==n&&(C=!0,r.value=n,e.onScrollHeight!==void 0&&i("scrollHeight",n),P()),u.value!==c&&(C=!0,u.value=c),C===!0&&e.onResize!==void 0&&i("resize",l)}function z({height:l}){s.value!==l&&(s.value=l,P())}function P(){if(e.container===!0){const l=r.value>s.value?N():0;a.value!==l&&(a.value=l)}}let q=null;const H={instances:{},view:d(()=>e.view),isContainer:d(()=>e.container),rootRef:t,height:r,containerHeight:s,scrollbarWidth:a,totalWidth:d(()=>u.value+a.value),rows:d(()=>{const l=e.view.toLowerCase().split(" ");return{top:l[0].split(""),middle:l[1].split(""),bottom:l[2].split("")}}),header:V({size:0,offset:0,space:!1}),right:V({size:300,offset:0,space:!1}),footer:V({size:0,offset:0,space:!1}),left:V({size:300,offset:0,space:!1}),scroll:f,animate(){q!==null?clearTimeout(q):document.body.classList.add("q-body--layout-animate"),q=setTimeout(()=>{q=null,document.body.classList.remove("q-body--layout-animate")},155)},update(l,n,c){H[l][n]=c}};if(te(j,H),N()>0){let c=function(){l=null,n.classList.remove("hide-scrollbar")},C=function(){if(l===null){if(n.scrollHeight>o.screen.height)return;n.classList.add("hide-scrollbar")}else clearTimeout(l);l=setTimeout(c,300)},O=function(W){l!==null&&W==="remove"&&(clearTimeout(l),c()),window[`${W}EventListener`]("resize",C)},l=null;const n=document.body;w(()=>e.container!==!0?"add":"remove",O),e.container!==!0&&O("add"),ae(()=>{O("remove")})}return()=>{const l=Z(b.default,[m(ze,{onScroll:$}),m(M,{onResize:p})]),n=m("div",{class:v.value,style:g.value,ref:e.container===!0?void 0:t,tabindex:-1},l);return e.container===!0?m("div",{class:"q-layout-container overflow-hidden",ref:t},[m(M,{onResize:z}),m("div",{class:"absolute-full",style:x.value},[m("div",{class:"scroll",style:h.value},[n])])]):n}}}),Ce="/assets/sduwh.7f249441.png";const $e={class:"text-body1"},qe={class:"row flex-center q-mt-md"},Le={class:"text-body1"},Re={class:"text-body1 q-ml-md"},He=se({__name:"MainLayout",setup(e){const i=he().platform.is.mobile,o=new Date().getFullYear();return(t,r)=>{const u=ue("router-view");return U(),G(Se,{view:"hHh lpR fff",class:"layout-wrap"},{default:B(()=>[_(ge,null,{default:B(()=>[_(u)]),_:1}),_(we,{class:"bg-transparent text-primary q-pa-lg"},{default:B(()=>[S("div",{class:K([L(i)?"column flex-center":"row justify-start items-center","footer full-width"])},[S("div",{class:"cursor-pointer",onClick:r[0]||(r[0]=f=>L(Y)("https://www.wh.sdu.edu.cn/"))},[_(me,{src:Ce,style:{height:"77px",width:"324px"},fit:"contain",ratio:1})]),L(i)?ce("",!0):(U(),G(be,{key:0})),S("div",{class:K([{"q-mt-md":L(i)},"footer-content column flex-center"])},[S("span",$e,"\xA9"+k(L(o))+" ALL RIGHTS RESERVED",1),S("div",qe,[S("div",{class:"row flex-center cursor-pointer",onClick:r[1]||(r[1]=f=>L(Y)("https://github.com/qintianjian-lab"))},[_(le,{class:"q-mr-sm",name:"fa-brands fa-github",size:"sm"}),S("span",Le,k(t.$t("indexPageLabName")),1)]),S("span",Re,k(t.$t("indexPageFooterMadeInfo")),1)])],2)],2)]),_:1})]),_:1})}}});export{He as default};
